import{a as g,S,i as n}from"./assets/vendor-Z6SuAarM.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();const w="54276713-c64412dcc235398d3663f989c",p="https://pixabay.com/api/";g.defaults.baseURL=p;async function y(e,t){return(await g.get(p,{params:{key:w,q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,page:t,per_page:15}})).data}const h=document.querySelector("ul");let q=new S(".gallery a",{captions:!0,captionsData:"alt",captionPosition:"bottom"});function b(e){const t=e.map(s=>`<li><a href ="${s.largeImageURL}"><img class = "img-div" src ="${s.webformatURL}" alt ="${s.tags}">
    <div class = "elements-div"><div class = "el-div"><b>likes</b><p>${s.likes}</p></div><div class = "el-div"><b>Views</b><p>${s.views}</p></div>
    <div class = "el-div"><b>Comments</b><p>${s.comments}</p></div><div class = "el-div">
    <b>Downloads</b><p>${s.downloads}</p></div></div>
    </a>
    </li>`).join("");h.insertAdjacentHTML("beforeend",t),q.refresh()}function f(){h.innerHTML=""}function v(){const e=document.querySelector(".loader");e&&e.classList.add("is-visible")}function L(){const e=document.querySelector(".loader");e&&e.classList.remove("is-visible")}function u(){const e=document.querySelector(".btn-scroll");e&&e.classList.add("is-visible")}function d(){const e=document.querySelector(".btn-scroll");e&&e.classList.remove("is-visible")}const m=document.querySelector("input"),C=document.querySelector("form");let a="";C.addEventListener("submit",async e=>{if(e.preventDefault(),a=m.value.trim(),a==="")i=1,f(),d(),n.show({message:"Sorry, there are no images matching your search query. Please try again!",messageColor:"#fafafb",backgroundColor:"#ef4040",position:"topRight"});else if(a){f(),i=1,v();try{const t=await y(a,i);t.totalHits===0?n.show({message:"Sorry, there are no images matching your search query. Please try again!",messageColor:"#fafafb",backgroundColor:"#ef4040",position:"topRight"}):b(t.hits),u()}catch{n.error({message:"Sorry, there are no images matching your search query. Please try again!",messageColor:"#fafafb",backgroundColor:"#ef4040",position:"topRight"})}finally{L(),u()}m.value=""}});let i=1,P=15;const R=document.querySelector(".btn-scroll");R.addEventListener("click",async e=>{i+=1,v(),d();try{const t=await y(a,i),s=document.querySelector(".gallery");if(b(t.hits,s),t.hits.length>0){const l=Math.ceil(t.totalHits/P);console.log(),i>=l?(d(),n.show({message:"We're sorry, but you've reached the end of search results",messageColor:"#fafafb",backgroundColor:"#ef4040",position:"topRight"})):u();const r=document.querySelector("li").getBoundingClientRect().height;window.scrollBy({top:r*2,behavior:"smooth"})}}catch(t){console.log(t),console.log(t.message),n.show({message:"Sorry, there are no images matching your search query. Please try again!",messageColor:"#fafafb",backgroundColor:"#ef4040",position:"topRight"})}finally{L()}});
//# sourceMappingURL=index.js.map
